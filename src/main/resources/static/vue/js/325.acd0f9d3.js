(self["webpackChunkxy_dash_admin"]=self["webpackChunkxy_dash_admin"]||[]).push([[325],{89:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n}},2325:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var i=n(3396),s=n(9242);const o={class:"container"},r={class:"container__form container--signin"},c=(0,i._)("h2",{class:"form__title"},"XY数据迁移",-1),a=(0,i._)("input",{type:"text",placeholder:"User",class:"input"},null,-1),l=(0,i._)("input",{type:"password",placeholder:"Password",class:"input"},null,-1),u={class:"dialog-footer"},d={id:"verify"},p=(0,i._)("div",{class:"container__overlay"},[(0,i._)("div",{class:"overlay"})],-1);function f(e,t,n,f,v,g){const m=(0,i.up)("el-input"),h=(0,i.up)("el-col"),y=(0,i.up)("el-button"),w=(0,i.up)("el-dialog"),x=(0,i.up)("slide-verify");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",r,[(0,i._)("form",{class:"form",onClick:t[2]||(t[2]=(...e)=>f.eliminate&&f.eliminate(...e))},[c,a,l,(0,i._)("button",{class:"btn",onClick:t[0]||(t[0]=(0,s.iM)(((...e)=>f.login&&f.login(...e)),["stop"])),id:"login",type:"button"}," 登 录 "),(0,i._)("p",{class:"link common",onClick:t[1]||(t[1]=(0,s.iM)(((...e)=>f.visitor&&f.visitor(...e)),["stop"]))},"游客模式")])]),(0,i.Wm)(w,{modelValue:f.insertStatus,"onUpdate:modelValue":t[5]||(t[5]=e=>f.insertStatus=e),style:{width:"350px",position:"absolute",top:"50%",left:"50%","border-radius":"10px","background-color":"#6e84a9",opacity:"0.7",transform:"translate(-50%, -100%)"},title:"游客",draggable:""},{footer:(0,i.w5)((()=>[(0,i._)("span",u,[(0,i.Wm)(y,{onClick:t[4]||(t[4]=e=>f.insertStatus=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取 消")])),_:1}),(0,i.Wm)(y,{type:"primary",onClick:f.visitorSuccess},{default:(0,i.w5)((()=>[(0,i.Uk)("确 定")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(h,{span:25},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{placeholder:"请输入邀请码",modelValue:f.query,"onUpdate:modelValue":t[3]||(t[3]=e=>f.query=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),(0,i.wy)((0,i._)("div",d,[(0,i.Wm)(x,{ref:"block",class:"verify",l:128,r:32,w:1600,h:1200,"slider-text":f.data.text,accuracy:f.data.accuracy,imgs:f.data.imgs,onSuccess:f.onSuccess,onRefresh:f.onRefresh,onFail:f.onFail},null,8,["slider-text","accuracy","imgs","onSuccess","onRefresh","onFail"])],512),[[s.F8,f.data.LoginShow]]),p])}n(7658);var v=n(7139),g=n(2483),m=n(4870),h=n(2268);const y=Math.PI;function w(e,t){return e+t}function x(e){return e*e}function _(e,t,n,i,s,o){e.beginPath(),e.moveTo(t,n),e.arc(t+i/2,n-s+2,s,.72*y,2.26*y),e.lineTo(t+i,n),e.arc(t+i+s-2,n+i/2,s,1.21*y,2.78*y),e.lineTo(t+i,n+i),e.lineTo(t,n+i),e.arc(t+s-2,n+i/2,s+.4,2.76*y,1.24*y,!0),e.lineTo(t,n),e.lineWidth=2,e.fillStyle="rgba(255, 255, 255, 0.7)",e.strokeStyle="rgba(255, 255, 255, 0.7)",e.stroke(),e[o](),e.globalCompositeOperation="destination-over"}function b(e,t){const n=document.createElement("img");return n.crossOrigin="Anonymous",n.onload=t,n.onerror=()=>{n.src=S(e)},n.src=S(e),n}function k(e,t){return Math.round(Math.random()*(t-e)+e)}function S(e){const t=e.length;return t>0?e[k(0,t-1)]:"https://source.unsplash.com/300x150/?book,library"}function C(e,t,n={leading:!0,trailing:!0}){const{leading:i,trailing:s,resultCallback:o}=n;let r=0,c=null;const a=function(...n){return new Promise(((a,l)=>{const u=(new Date).getTime();r||i||(r=u);const d=t-(u-r);if(d<=0){c&&(clearTimeout(c),c=null);const t=e.apply(this,n);return o&&o(t),a(t),void(r=u)}s&&!c&&(c=setTimeout((()=>{c=null,r=i?(new Date).getTime():0;const t=e.apply(this,n);o&&o(t),a(t)}),d))}))};return a.cancel=function(){c&&clearTimeout(c),c=null,r=0},a}function j(){const e=(0,m.qj)({x:0,y:0}),t=(0,m.iH)(!1),n=(0,m.iH)(!1),i=(0,m.iH)(0),s=(0,m.iH)([]),o=s=>{t.value||(s instanceof MouseEvent?(e.x=s.clientX,e.y=s.clientY):(e.x=s.changedTouches[0].pageX,e.y=s.changedTouches[0].pageY),n.value=!0,i.value=Date.now())},r=(t,i,o)=>{if(!n.value)return!1;let r=0,c=0;if(i instanceof MouseEvent?(r=i.clientX-e.x,c=i.clientY-e.y):(r=i.changedTouches[0].pageX-e.x,c=i.changedTouches[0].pageY-e.y),r<0||r+38>=t/4)return!1;o(r),s.value.push(c)},c=(e,t,n)=>{const i=s.value,o=i.reduce(w)/i.length,r=i.map((e=>e-o)),c=Math.sqrt(r.map(x).reduce(w)/i.length),a=4*parseInt(e);return n=n<=1?1:n>40?40:n,{spliced:Math.abs(a-t)<=n,TuringTest:o!==c}},a=(t,s)=>{if(!n.value)return!1;n.value=!1;const o=t instanceof MouseEvent?t.clientX:t.changedTouches[0].pageX;if(o===e.x)return!1;i.value=Date.now()-i.value,s(i.value)};return{origin:e,success:t,isMouseDown:n,timestamp:i,trail:s,start:o,move:r,end:a,verify:c}}var T=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n};const E=(0,i.aZ)({name:"SlideVerify",props:{l:{type:Number,default:42},r:{type:Number,default:10},w:{type:Number,default:310},h:{type:Number,default:155},sliderText:{type:String,default:"Slide filled right"},accuracy:{type:Number,default:5},show:{type:Boolean,default:!0},imgs:{type:Array,default:()=>[]},interval:{type:Number,default:50}},emits:["success","again","fail","refresh"],setup(e,{emit:t}){const{imgs:n,l:s,r:o,w:r,h:c,accuracy:a,interval:l}=e,u=(0,m.iH)(!0),d=(0,m.iH)(0),p=(0,m.iH)(0),f=(0,m.qj)({containerActive:!1,containerSuccess:!1,containerFail:!1}),v=(0,m.qj)({iconCls:"arrow-right",width:"0",left:"0"}),g=(0,m.iH)(),h=(0,m.iH)(),y=(0,m.iH)(),w=(0,m.iH)();let x;const{success:T,start:E,move:D,end:M,verify:L}=j(),H=()=>{var e,t;T.value=!1,f.containerActive=!1,f.containerSuccess=!1,f.containerFail=!1,v.iconCls="arrow-right",v.left="0",v.width="0",g.value.style.left="0",null==(e=w.value)||e.clearRect(0,0,r,c),null==(t=h.value)||t.clearRect(0,0,r,c),g.value.width=r,x.src=S(n)},F=()=>{H(),t("refresh")};function q(e){v.left=e+"px";let t=(r-40-20)/(r-40)*e;g.value.style.left=t+"px",f.containerActive=!0,v.width=e+"px"}function B(e){const{spliced:n,TuringTest:i}=L(g.value.style.left,d.value,4*a);if(n){if(-1===a)return f.containerSuccess=!0,v.iconCls="success",T.value=!0,void t("success",e);i?(f.containerSuccess=!0,v.iconCls="success",T.value=!0,t("success",e)):(f.containerFail=!0,v.iconCls="fail",t("again"))}else f.containerFail=!0,v.iconCls="fail",t("fail"),setTimeout((()=>{H()}),350)}const I=C((e=>{D(r,e,q)}),l),V=e=>{M(e,B)};return(0,i.bv)((()=>{var e,t;const i=null==(e=y.value)?void 0:e.getContext("2d"),a=null==(t=g.value)?void 0:t.getContext("2d",{willReadFrequently:!0});w.value=i,h.value=a,x=b(n,(()=>{u.value=!1;const e=s+2*o+3;if(d.value=k(e+10,r-(e+10)),p.value=k(10+2*o,c-(e+10)),i&&a){_(i,d.value,p.value,s,o,"fill"),_(a,d.value,p.value,s,o,"clip"),i.drawImage(x,0,0,r,c),a.drawImage(x,0,0,r,c);const t=p.value-2*o-1,n=a.getImageData(d.value,t,e,e);g.value.width=e,a.putImageData(n,0,t)}})),document.addEventListener("mousemove",I),document.addEventListener("mouseup",V)})),(0,i.Jd)((()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",V)})),{block:g,canvas:y,loadBlock:u,containerCls:f,sliderBox:v,refresh:F,sliderDown:E,touchStartEvent:E,touchMoveEvent:I,touchEndEvent:V}}}),D=e=>((0,i.dD)("data-v-f61c42f2"),e=e(),(0,i.Cn)(),e),M=["width","height"],L=D((()=>(0,i._)("i",{class:"iconfont icon-refresh"},null,-1))),H=[L],F=["width","height"],q={class:"slide-verify-slider-text"};function B(e,t,n,s,o,r){return(0,i.wg)(),(0,i.iD)("div",{id:"slideVerify",class:"slide-verify",style:(0,h.j5)({width:e.w/4+"px"}),onselectstart:"return false;"},[(0,i._)("div",{class:(0,h.C_)({"slider-verify-loading":e.loadBlock})},null,2),(0,i._)("canvas",{ref:"canvas",width:e.w,height:e.h},null,8,M),e.show?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"slide-verify-refresh-icon",onClick:t[0]||(t[0]=(...t)=>e.refresh&&e.refresh(...t))},H)):(0,i.kq)("",!0),(0,i._)("canvas",{ref:"block",width:e.w,height:e.h,class:"slide-verify-block"},null,8,F),(0,i._)("div",{class:(0,h.C_)(["slide-verify-slider",{"container-active":e.containerCls.containerActive,"container-success":e.containerCls.containerSuccess,"container-fail":e.containerCls.containerFail}])},[(0,i._)("div",{class:"slide-verify-slider-mask",style:(0,h.j5)({width:e.sliderBox.width})},[(0,i._)("div",{class:"slide-verify-slider-mask-item",style:(0,h.j5)({left:e.sliderBox.left}),onMousedown:t[1]||(t[1]=(...t)=>e.sliderDown&&e.sliderDown(...t)),onTouchstart:t[2]||(t[2]=(...t)=>e.touchStartEvent&&e.touchStartEvent(...t)),onTouchmove:t[3]||(t[3]=(...t)=>e.touchMoveEvent&&e.touchMoveEvent(...t)),onTouchend:t[4]||(t[4]=(...t)=>e.touchEndEvent&&e.touchEndEvent(...t))},[(0,i._)("i",{class:(0,h.C_)(["slide-verify-slider-mask-item-icon","iconfont",`icon-${e.sliderBox.iconCls}`])},null,2)],36)],4),(0,i._)("span",q,(0,h.zw)(e.sliderText),1)],2)],4)}var I=T(E,[["render",B],["__scopeId","data-v-f61c42f2"]]),V={name:"Login",components:{SlideVerify:I},setup(){(0,v.oR)();const e=(0,g.tv)(),t=(0,m.iH)(null),s=(0,m.iH)(""),o=(0,m.iH)(!1);let r=(0,m.qj)({LoginShow:!1,visitor:!1,text:"向右滑动->>>",accuracy:6,imgs:[]});const c=n(2201);for(const n in c.keys())r.imgs.push(c(c.keys()[n]));(0,i.bv)((()=>{document.getElementById("app").classList.add("login")})),(0,i.Ah)((()=>{document.getElementById("app").classList.remove("login")}));const a=()=>{document.getElementById("login")!=event.target&&(r.LoginShow=!1)},l=()=>{r.LoginShow=!0,r.visitor=!1},u=()=>{r.LoginShow=!0,r.visitor=!0},d=()=>{"123"==s.value&&e.push("/")},p=n=>{setTimeout((()=>{t.value.refresh()}),350),r.text=`验证通过, 耗时${(n/1e3).toFixed(1)}s`,r.visitor?(o.value=!0,r.LoginShow=!1):e.push("/")};const f=()=>{},h=()=>{r.text="验证不通过"};return(0,i.YP)((()=>r.LoginShow),((e,n)=>{e||(r.text="向右滑动->>>",t.value.refresh())})),{data:r,block:t,insertStatus:o,query:s,visitorSuccess:d,visitor:u,login:l,onRefresh:f,onSuccess:p,eliminate:a,onFail:h}}},N=n(89);const O=(0,N.Z)(V,[["render",f]]);var R=O},2201:function(e,t,n){var i={"./1.jpg":4218,"./1113371.jpg":8593,"./1186342.png":9772,"./1232633.jpg":8643,"./1232652.jpg":4789,"./1281519.jpg":2275,"./2.png":9898,"./519222.jpg":7364,"./589062.jpg":9563,"./636058.png":1185,"./671916.jpg":8831,"./736459.png":8165,"./740298.png":1638,"./74949.jpg":6050,"./811573.jpg":1300,"./888769.png":4608};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=o,e.exports=s,s.id=2201},4218:function(e,t,n){"use strict";e.exports=n.p+"img/1.00447953.jpg"},8593:function(e,t,n){"use strict";e.exports=n.p+"img/1113371.a0127413.jpg"},9772:function(e,t,n){"use strict";e.exports=n.p+"img/1186342.1b13cca5.png"},8643:function(e,t,n){"use strict";e.exports=n.p+"img/1232633.6f1de0be.jpg"},4789:function(e,t,n){"use strict";e.exports=n.p+"img/1232652.e2bdd53d.jpg"},2275:function(e,t,n){"use strict";e.exports=n.p+"img/1281519.6742ce49.jpg"},9898:function(e,t,n){"use strict";e.exports=n.p+"img/2.654807c3.png"},7364:function(e,t,n){"use strict";e.exports=n.p+"img/519222.2e14a1a7.jpg"},9563:function(e,t,n){"use strict";e.exports=n.p+"img/589062.a342480b.jpg"},1185:function(e,t,n){"use strict";e.exports=n.p+"img/636058.285e7160.png"},8831:function(e,t,n){"use strict";e.exports=n.p+"img/671916.801f1ef2.jpg"},8165:function(e,t,n){"use strict";e.exports=n.p+"img/736459.e477f5e3.png"},1638:function(e,t,n){"use strict";e.exports=n.p+"img/740298.5af48430.png"},6050:function(e,t,n){"use strict";e.exports=n.p+"img/74949.5b7c5ba5.jpg"},1300:function(e,t,n){"use strict";e.exports=n.p+"img/811573.aa704d9f.jpg"},4608:function(e,t,n){"use strict";e.exports=n.p+"img/888769.476ca79f.png"}}]);
//# sourceMappingURL=325.acd0f9d3.js.map